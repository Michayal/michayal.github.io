<html>
    <head>
        <! Run local server with python -m SimpleHTTPServer>
        <meta charset="utf-8">
        <title>WebFEA</title>
        <meta name="description" content="Truss-viz">
        <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
        <script src="https://unpkg.com/aframe-teleport-controls@0.2.0/dist/aframe-teleport-controls.min.js"></script>
        <script src="https://unpkg.com/aframe-controller-cursor-component@0.2.2/dist/aframe-controller-cursor-component.min.js"></script>
        <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
        <script src="components/intersection-spawn.js"></script>
        <script src="components/random-color.js"></script>
        <script src="components/snap.js"></script>
        <script src="data.js"></script>
        <script src = "https://unpkg.com/mathjs@6.2.1"></script>
        <script src = "https://unpkg.com/super-hands@3.0.0/dist/super-hands.min.js"></script>
        <!--<script src = "\node_modules\super-hands\dist\super-hands.js"></script>
<script src = "https://github.com/Michayal/michayal.github.io/blob/dbcf88bcf7d628e24f98a60358b557eec6bd4419/node_modules/super-hands/dist/super-hands.js"></script> -->
        <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.0.1/dist/aframe-extras.min.js"></script>

    </head>

    <body>
        <a-scene avatar-recorder>
            <a-assets>

                <a-mixin id="node" geometry="primitive: sphere; radius: 0.1"
                         material="shader: standard; color: #ffffff"
                         hoverable grabbable stretchable draggable droppable
                         shadow
                         event-set__dragdrop=""
                         event-set__hoveron="_event: hover-start; material.opacity: 0.7; transparent: true"
                         event-set__hoveroff="_event: hover-end; material.opacity: 1; transparent: false"
                         event-set__dragon="_event: dragover-start; material.wireframe: true"
                         event-set__dragoff="_event: dragover-end; material.wireframe: false">
                </a-mixin>

                <img id="groundTexture" src="https://cdn.aframe.io/a-painter/images/floor.jpg">
                <img id="skyTexture" src="https://cdn.aframe.io/a-painter/images/sky.jpg">
                <!a-mixin id="voxel"
                geometry="primitive: box; height: 0.5; width: 0.5; depth: 0.5"
                material="shader: standard"
                random-color
                snap="offset: 0.25 0.25 0.25; snap: 0.5 0.5 0.5"
                ><!/a-mixin>
            </a-assets>

            <a-entity progressive-controls="objects: .node">
                <a-entity id="lhand" class="left-controller"></a-entity>
                <a-entity id="rhand" class="right-controller"></a-entity>
            </a-entity>

            <a-text id="detailText" value="Node value:" look-at="#camera" align="center" color="#FFF" visible="false" position="2 3 5" rotation = "0 0 0"></a-text>

            <a-sky id="bg" radius="30" src="#skyTexture" theta-length="90"></a-sky>

            <a-cylinder id="ground" src="#groundTexture" radius="32" height="0.1"></a-cylinder>

            <!-- Hands. 
<a-entity id="teleHand"
hand-controls="left"
teleport-controls="type: parabolic; collisionEntities: [mixin='voxel'], #ground"
></a-entity>

<a-entity id="blockHand"
hand-controls="right"
controller-cursor
!intersection-spawn="event: click; mixin: voxel"
></a-entity>-->

            <!-- Camera. -->
            <!--
<a-camera id="camera" position = "4 1.5 5">
<a-entity cursor="downEvents: triggerdown; upEvents: triggerUp" 
geometry="primitive: ring; radiusInner: 0.03; radiusOuter: 0.05"
material="color: blue; shader: flat"
position="0 0 -1">
</a-entity>
</a-camera>
-->

            <a-entity wasd-controls look-controls position = "4 0 5">
                <a-entity camera id="camera" position = "0 1.6 0"
                          capture-mouse
                          raycaster="objects: .node" cursor="rayOrigin:mouse"
                          static-body="shape: sphere; sphereRadius: 0.001"
                          super-hands="colliderEvent: raycaster-intersection;
                                       colliderEventProperty: els;
                                       colliderEndEvent:raycaster-intersection-cleared;
                                       colliderEndEventProperty: clearedEls;">
                </a-entity> 
            </a-entity>


        </a-scene>
    </body>

    <!script>
    //document.addEventListener("DOMContentLoaded", function(){
    //console.log("Printsomething")                                                      
    //var sphere = document.createElement('a-sphere');
    //var scene = document.querySelector('a-scene');
    //scene.appendChild(sphere)
    //});  
    <!/script>



</html>

